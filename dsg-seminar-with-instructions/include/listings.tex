\usepackage{listings}
%
% Background color for embedded code
\definecolor{hellgrau}{gray}{0.9}
%
% Settings for Java-Code
%
\lstdefinestyle{javaStyle}{%
  basicstyle=\small,%
  backgroundcolor=\color{hellgrau},%
  keywordstyle=\bfseries,%
  showstringspaces=false,%
  language=Java,%
  numbers=left,%
  numberstyle=\tiny,%
  stepnumber=1,%
  numbersep=5pt,%
  extendedchars=true,%
  xleftmargin=2em,%
  xrightmargin=2em,%
  lineskip=-1pt,%
  breaklines%
}
%
% new environment for Java-Sourcecode
% #1 = Heading
% #2 = Label
%
\lstnewenvironment{javacode}[2]%
{\lstset{style=javaStyle,caption=#1,label=#2}}
{}
% Command to include Java code from file
% #1 = Filename relative to the src folder
% #2 = Heading
% #3 = Label
%
\newcommand{\javafile}[3]{%
   \lstinputlisting[%
     caption={#2},%
     label={#3},%
     style=javaStyle]{src/#1}%
}
